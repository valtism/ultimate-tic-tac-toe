{"version":3,"sources":["context/DarkContext.js","functions/gameFunctions.js","images/X.svg","images/O.svg","components/Icon.js","components/Game.js","hooks/useDarkContext.js","images/CaretLeft.svg","images/CaretRight.svg","components/ArrowControls.js","hooks/useLocalStorage.js","hooks/useDarkMode.js","hooks/usePrefersDarkMode.js","components/App.js","hooks/useViewTurnKeys.js","index.js"],"names":["DarkContext","createContext","getWinner","turns","calculateWinner","Array","fill","map","_","boardIndex","getBoardWinner","cellIndex","cellId","getCellId","idx","indexOf","getBoardCells","cells","lines","i","length","a","b","c","_extends","Object","assign","target","arguments","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","stroke","strokeWidth","strokeLinecap","SvgX","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","id","ForwardRef","SvgO","Icon","type","className","clsx","Game","cellClick","allowedBoard","style","gap","Board","dark","useContext","boardWinner","isValidBoard","includes","invalidFilter","filter","iconType","turnIdx","cellIconType","Cell","onClick","onKeyDown","nextCell","split","Number","getNavigatedCellId","document","getElementById","focus","handleGridNavigation","isValid","children","points","strokeLinejoin","SvgCaretLeft","SvgCaretRight","ArrowControls","onLeftClick","onRightClick","useLocalStorage","initialValue","useState","item","window","localStorage","getItem","JSON","parse","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useDarkMode","userEnabled","setUserEnabled","prefersDarkMode","matchMedia","matches","setDark","useEffect","handleChange","addEventListener","removeEventListener","usePrefersDarkMode","enabled","undefined","html","documentElement","classList","add","remove","App","setTurns","viewTurn","setViewTurn","turnsSlice","slice","p1Turn","lastTurn","targetBoard","getAllowedBoard","winner","setPointer","handleKeyDown","pointer","Math","max","min","useViewTurnKeys","Provider","DarkToggle","GameBox","boardClick","isValidClick","newTurns","concat","WinnerAnnouncement","CurrentTurn","vt","defaultSize","setDefaultSize","gameRef","useRef","isMobile","Boolean","navigator","userAgent","match","width","height","minConstraints","lockAspectRatio","draggableOpts","nodeRef","onResizeStop","e","data","size","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.a15aa151.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const DarkContext = createContext();\n","export function isValidClick(pointer, turns, cellId, allowedBoard) {\n  // Is current move\n  if (pointer !== turns.length) {\n    return false;\n  }\n\n  // Cell already filled\n  if (turns.includes(cellId)) {\n    return false;\n  }\n\n  // Invalid board\n  const boardClick = Number(cellId[0]);\n  if (![true, boardClick].includes(allowedBoard)) {\n    return false;\n  }\n\n  // Board has a winner\n  if (!!getBoardWinner(turns, boardClick)) {\n    return false;\n  }\n\n  // A player has won\n  if (getWinner(turns)) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function getAllowedBoard(turns) {\n  if (!turns.length) {\n    return true;\n  }\n  const lastTurn = turns[turns.length - 1];\n  const targetBoard = Number(lastTurn[2]);\n  if (!!getBoardWinner(turns, targetBoard)) {\n    return true;\n  }\n  return targetBoard;\n}\n\nexport function getWinner(turns) {\n  const boardWinners = Array(9)\n    .fill()\n    .map((_, boardIndex) => getBoardWinner(turns, boardIndex));\n  return calculateWinner(boardWinners);\n}\n\nexport function getBoardWinner(turns, boardIndex) {\n  const cells = getBoardCells(turns, boardIndex);\n  return calculateWinner(cells);\n}\n\nfunction getBoardCells(turns, boardIndex) {\n  return Array(9)\n    .fill()\n    .map((_, cellIndex) => {\n      const cellId = getCellId(boardIndex, cellIndex);\n      const idx = turns.indexOf(cellId);\n      if (idx === -1) {\n        return null;\n      }\n      return idx % 2 === 0 ? \"X\" : \"O\";\n    });\n}\n\nfunction calculateWinner(cells) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (cells[a] && cells[a] === cells[b] && cells[a] === cells[c]) {\n      return cells[a];\n    }\n  }\n  return null;\n}\n\nexport function cellIconType(turns, cellId) {\n  const turnIdx = turns.indexOf(cellId);\n  if (turnIdx === -1) {\n    return null;\n  }\n\n  return turnIdx % 2 === 0 ? \"X\" : \"O\";\n}\n\nexport function getCellId(boardIndex, cellIndex) {\n  return `${boardIndex},${cellIndex}`;\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 2,2 l 20,20\",\n  stroke: \"currentcolor\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 2,22 l 20,-20\",\n  stroke: \"currentcolor\",\n  strokeWidth: 4,\n  strokeLinecap: \"round\"\n});\n\nfunction SvgX(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgX);\nexport default __webpack_public_path__ + \"static/media/X.9f09d8d8.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M 12 2 a 10 10 0 1 0 0.000001 0 z\",\n  fill: \"none\",\n  stroke: \"currentcolor\",\n  strokeWidth: 4\n});\n\nfunction SvgO(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgO);\nexport default __webpack_public_path__ + \"static/media/O.d43e7896.svg\";\nexport { ForwardRef as ReactComponent };","import clsx from \"clsx\";\n\nimport { ReactComponent as X } from \"../images/X.svg\";\nimport { ReactComponent as O } from \"../images/O.svg\";\n\nexport function Icon({ type, className, ...props }) {\n  switch (type) {\n    case \"X\":\n      return <X className={clsx(\"text-red-500\", className)} {...props} />;\n    case \"O\":\n      return <O className={clsx(\"text-blue-500\", className)} {...props} />;\n    default:\n      return <div {...props} />;\n  }\n}\n","import clsx from \"clsx\";\n\nimport { useDarkContext } from \"../hooks/useDarkContext\";\nimport {\n  cellIconType,\n  getBoardWinner,\n  getCellId,\n} from \"../functions/gameFunctions\";\nimport { Icon } from \"./Icon\";\n\nexport function Game({ turns, cellClick, allowedBoard }) {\n  return (\n    <div\n      style={{ gap: \"4%\" }}\n      className=\"h-full relative grid grid-cols-3 rounded\"\n    >\n      {Array(9)\n        .fill()\n        .map((_, boardIndex) => (\n          <Board\n            key={boardIndex}\n            turns={turns}\n            cellClick={cellClick}\n            allowedBoard={allowedBoard}\n            boardIndex={boardIndex}\n          />\n        ))}\n    </div>\n  );\n}\n\nfunction Board({ turns, cellClick, allowedBoard, boardIndex }) {\n  const dark = useDarkContext();\n  const boardWinner = getBoardWinner(turns, boardIndex);\n  const isValidBoard =\n    !boardWinner && [true, boardIndex].includes(allowedBoard);\n  const invalidFilter = dark\n    ? \"blur(1px) contrast(130%) grayscale(40%)\"\n    : \"blur(1px) contrast(80%) grayscale(30%)\";\n\n  return (\n    <div\n      style={{\n        gap: \"4%\",\n        filter: !isValidBoard && invalidFilter,\n      }}\n      className=\"grid grid-cols-3 rounded\"\n    >\n      {Array(9)\n        .fill()\n        .map((_, cellIndex) => {\n          const cellId = getCellId(boardIndex, cellIndex);\n          const iconType = cellIconType(turns, cellId);\n          return (\n            <Cell\n              key={cellIndex}\n              id={cellId}\n              onClick={() => cellClick(cellId)}\n              onKeyDown={({ key }) => {\n                switch (key) {\n                  case \"ArrowUp\":\n                  case \"ArrowRight\":\n                  case \"ArrowDown\":\n                  case \"ArrowLeft\":\n                    return handleGridNavigation(key, cellId);\n                  default:\n                    return;\n                }\n              }}\n              isValid={isValidBoard}\n              className={clsx(\n                boardWinner === \"X\" &&\n                  \"bg-red-300 bg-opacity-70 dark:bg-red-600 dark:bg-opacity-30\",\n                boardWinner === \"O\" &&\n                  \"bg-blue-300 bg-opacity-70 dark:bg-blue-600 dark:bg-opacity-30\"\n              )}\n            >\n              <Icon\n                type={iconType}\n                className={`animate-${iconType} absolute w-1/2 h-1/2 text-gray-900`}\n              />\n            </Cell>\n          );\n        })}\n    </div>\n  );\n}\n\nfunction Cell({ isValid, className, children, ...props }) {\n  return (\n    <button\n      className={clsx(\n        \"relative flex items-center justify-center rounded w-full h-full\",\n        \"bg-gray-200 dark:bg-gray-700 m-px\",\n        \"focus:outline-none focus:ring\",\n        !isValid && \"focus:ring-gray-500 focus:ring-opacity-50\",\n        !isValid && \"cursor-default\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction handleGridNavigation(key, cellId) {\n  const nextCell = getNavigatedCellId(key, cellId);\n  document.getElementById(nextCell).focus();\n}\n\nfunction getNavigatedCellId(key, cellId) {\n  const [boardIndex, cellIndex] = cellId.split(\",\").map(Number);\n  switch (key) {\n    case \"ArrowUp\":\n      if ([3, 4, 5, 6, 7, 8].includes(cellIndex)) {\n        return `${boardIndex},${cellIndex - 3}`;\n      } else if ([0, 1, 2].includes(boardIndex)) {\n        return cellId;\n      } else {\n        return `${boardIndex - 3},${cellIndex + 6}`;\n      }\n    case \"ArrowRight\":\n      if ([0, 1, 3, 4, 6, 7].includes(cellIndex)) {\n        return `${boardIndex},${cellIndex + 1}`;\n      } else if ([2, 5, 8].includes(boardIndex)) {\n        return cellId;\n      } else {\n        return `${boardIndex + 1},${cellIndex - 2}`;\n      }\n    case \"ArrowDown\":\n      if ([0, 1, 2, 3, 4, 5].includes(cellIndex)) {\n        return `${boardIndex},${cellIndex + 3}`;\n      } else if ([6, 7, 8].includes(boardIndex)) {\n        return cellId;\n      } else {\n        return `${boardIndex + 3},${cellIndex - 6}`;\n      }\n    case \"ArrowLeft\":\n      if ([1, 2, 4, 5, 7, 8].includes(cellIndex)) {\n        return `${boardIndex},${cellIndex - 1}`;\n      } else if ([0, 3, 6].includes(boardIndex)) {\n        return cellId;\n      } else {\n        return `${boardIndex - 1},${cellIndex + 2}`;\n      }\n    default:\n      return cellId;\n  }\n}\n","import { useContext } from \"react\";\nimport { DarkContext } from \"../context/DarkContext\";\n\nexport function useDarkContext() {\n  return useContext(DarkContext);\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"18,2 4,12 18,22\",\n  stroke: \"currentcolor\",\n  fill: \"currentcolor\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2\n});\n\nfunction SvgCaretLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCaretLeft);\nexport default __webpack_public_path__ + \"static/media/CaretLeft.eabe4ce9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"polygon\", {\n  points: \"4,2 18,12 4,22\",\n  stroke: \"currentcolor\",\n  fill: \"currentcolor\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 2\n});\n\nfunction SvgCaretRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCaretRight);\nexport default __webpack_public_path__ + \"static/media/CaretRight.45b26d77.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as CaretLeft } from \"../images/CaretLeft.svg\";\nimport { ReactComponent as CaretRight } from \"../images/CaretRight.svg\";\n\nexport function ArrowControls({ onLeftClick, onRightClick }) {\n  return (\n    <div className=\"flex items-center space-x-2 text-white\">\n      <button\n        onClick={onLeftClick}\n        className=\"bg-gray-500 hover:bg-gray-700 p-2 rounded-lg active:bg-gray-800 focus:outline-none focus:ring\"\n      >\n        <CaretLeft className=\"w-4 h-4\" />\n      </button>\n      <button\n        onClick={onRightClick}\n        className=\"bg-gray-500 hover:bg-gray-700 p-2 rounded-lg active:bg-gray-800 focus:outline-none focus:ring\"\n      >\n        <CaretRight className=\"w-4 h-4\" />\n      </button>\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nexport function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    const item = window.localStorage.getItem(key);\n    return item ? JSON.parse(item) : initialValue;\n  });\n\n  const setValue = (value) => {\n    const valueToStore = value instanceof Function ? value(storedValue) : value;\n    setStoredValue(valueToStore);\n    window.localStorage.setItem(key, JSON.stringify(valueToStore));\n  };\n\n  return [storedValue, setValue];\n}\n","import { useEffect } from \"react\";\nimport { useLocalStorage } from \"./useLocalStorage\";\nimport { usePrefersDarkMode } from \"./usePrefersDarkMode\";\n\nexport function useDarkMode() {\n  const [userEnabled, setUserEnabled] = useLocalStorage(\"dark-mode\");\n  const prefersDarkMode = usePrefersDarkMode();\n\n  const enabled = userEnabled === undefined ? prefersDarkMode : userEnabled;\n\n  useEffect(() => {\n    const html = document.documentElement;\n    if (enabled) {\n      html.classList.add(\"dark\");\n    } else {\n      html.classList.remove(\"dark\");\n    }\n  }, [enabled]);\n\n  return [enabled, setUserEnabled];\n}\n","import { useEffect, useState } from \"react\";\n\nexport function usePrefersDarkMode() {\n  const [dark, setDark] = useState(\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches\n  );\n  useEffect(() => {\n    const handleChange = ({ matches }) => setDark(matches);\n    window\n      .matchMedia(\"(prefers-color-scheme: dark)\")\n      .addEventListener(\"change\", handleChange);\n    return window\n      .matchMedia(\"(prefers-color-scheme: dark)\")\n      .removeEventListener(\"change\", handleChange);\n  }, []);\n  return dark;\n}\n","import { useRef, useState } from \"react\";\nimport \"react-resizable/css/styles.css\";\nimport { ResizableBox } from \"react-resizable\";\n\nimport { Game } from \"./Game\";\nimport { Icon } from \"./Icon\";\nimport { ArrowControls } from \"./ArrowControls\";\nimport { DarkContext } from \"../context/DarkContext\";\nimport { useViewTurnKeys } from \"../hooks/useViewTurnKeys\";\nimport { useDarkMode } from \"../hooks/useDarkMode\";\nimport { useLocalStorage } from \"../hooks/useLocalStorage\";\nimport {\n  getAllowedBoard,\n  getWinner,\n  isValidClick,\n} from \"../functions/gameFunctions\";\n\nexport default function App() {\n  // Game State\n  const [turns, setTurns] = useState([]);\n  const [viewTurn, setViewTurn] = useState(0);\n\n  // Derived Game State\n  const turnsSlice = turns.slice(0, viewTurn);\n  const p1Turn = turns.length % 2 === 0;\n  const allowedBoard = getAllowedBoard(turnsSlice);\n  const winner = getWinner(turnsSlice);\n\n  function cellClick(cellId) {\n    if (isValidClick(viewTurn, turns, cellId, allowedBoard)) {\n      const newTurns = turns.concat(cellId);\n      setTurns(newTurns);\n      setViewTurn(newTurns.length);\n    }\n  }\n\n  const incrementViewTurn = () => {\n    setViewTurn((vt) => Math.min(vt + 1, turns.length));\n  };\n\n  const decrementViewTurn = () => {\n    setViewTurn((vt) => Math.max(0, vt - 1));\n  };\n\n  useViewTurnKeys(turns, setViewTurn);\n  const [dark, setDark] = useDarkMode();\n\n  return (\n    <DarkContext.Provider value={dark}>\n      <div className=\"bg-white dark:bg-gray-900 flex flex-col items-center space-y-2\">\n        <h1 className=\"font-display text-xl mt-4 text-gray-900 dark:text-white\">\n          Ultimate Tic-Tac-Toe\n        </h1>\n        <div className=\"absolute top-2 right-4\">\n          <DarkToggle dark={dark} setDark={setDark} />\n        </div>\n        <GameBox>\n          <Game\n            turns={turnsSlice}\n            cellClick={cellClick}\n            allowedBoard={allowedBoard}\n          />\n          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2\">\n            <WinnerAnnouncement winner={winner} />\n          </div>\n        </GameBox>\n        <div className=\"flex space-x-4\">\n          <CurrentTurn winner={winner} p1Turn={p1Turn} />\n          <ArrowControls\n            onLeftClick={decrementViewTurn}\n            onRightClick={incrementViewTurn}\n          />\n        </div>\n      </div>\n    </DarkContext.Provider>\n  );\n}\n\nfunction GameBox({ children }) {\n  const [defaultSize, setDefaultSize] = useLocalStorage(\"game-size\", 400);\n\n  // Use this to avoid strictMode warning when using ResizableBox\n  const gameRef = useRef(null);\n\n  // Disable resizable box for mobile. Unneeded and had a bug preventing cell clicks\n  const isMobile = Boolean(\n    navigator.userAgent.match(/Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i)\n  );\n\n  return (\n    <div className=\"relative\">\n      {isMobile ? (\n        <div style={{ width: \"90vw\", height: \"90vw\" }}>{children}</div>\n      ) : (\n        <ResizableBox\n          height={defaultSize}\n          width={defaultSize}\n          minConstraints={[200, 200]}\n          lockAspectRatio\n          draggableOpts={{\n            nodeRef: gameRef,\n          }}\n          onResizeStop={(e, data) => setDefaultSize(data.size.width)}\n          className=\"flex items-center justify-center p-2\"\n        >\n          <div ref={gameRef} className=\"w-full h-full\">\n            {children}\n          </div>\n        </ResizableBox>\n      )}\n    </div>\n  );\n}\n\nfunction CurrentTurn({ p1Turn }) {\n  return (\n    <div className=\"flex flex-col items-center space-y-1\">\n      <span className=\"text-sm font-bold tracking-wider text-gray-700 dark:text-gray-100 uppercase\">\n        Current turn\n      </span>\n      <div className=\"flex items-center justify-center rounded w-8 h-8 bg-gray-200 dark:bg-gray-700\">\n        <Icon className=\"w-1/2 h-1/2\" type={p1Turn ? \"X\" : \"O\"} />\n      </div>\n    </div>\n  );\n}\n\nfunction WinnerAnnouncement({ winner }) {\n  if (!winner) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-gray-900 dark:bg-gray-200 px-4 py-2 rounded shadow-lg\">\n      <span className=\"font-medium text-white dark:text-gray-900\">{`Player ${\n        winner === \"X\" ? \"1\" : \"2\"\n      } Wins!`}</span>\n    </div>\n  );\n}\n\nfunction DarkToggle({ dark, setDark }) {\n  return (\n    <div>\n      <button\n        className=\"w-6 h-6 rounded-full focus:outline-none focus:ring\"\n        onClick={() => setDark(!dark)}\n      >\n        <span>{dark ? \"☀️\" : \"🌙\"}</span>\n      </button>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\n\nexport function useViewTurnKeys(turns, setPointer) {\n  useEffect(() => {\n    function handleKeyDown({ key }) {\n      switch (key) {\n        case \"k\":\n          return setPointer((pointer) => Math.max(pointer - 1, 0));\n        case \"j\":\n          return setPointer((pointer) => Math.min(pointer + 1, turns.length));\n        case \"K\":\n          return setPointer(0);\n        case \"J\":\n          return setPointer(turns.length);\n        default:\n          return;\n      }\n    }\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [setPointer, turns.length]);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./styles/tailwind.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}